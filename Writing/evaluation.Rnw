\documentclass[a4paper]{article}

\usepackage{sectsty} % Section
\sectionfont{\fontsize{12}{15}\selectfont}

\usepackage{enumitem}

\begin{document}
\SweaveOpts{concordance=TRUE}

%\section{Methodology}
%\subsection{Phase 1}
%\subsubsection{LOF}
%\subsection{Phase 2}
%\subsubsection{X-Means}


\section{Evaluation}

%-----------------------------------------------------
%-----------------------------------------------------

\subsection{KDD Cup 1999 Data}
KDD'99 [CITE] remains to be the most widely used medium for the evaluation of network intrusion detection systems. The KDD dataset is prepared by Stolfo et al. [CITE] based on a much larger dataset called DARPA'98 which consists of nine weeks of raw TCP dump data captured at MIT Lincoln Labs as a part of the 1988 DARPA Intrusion Evaluation Program [CITE]. %http://www.cs.columbia.edu/~wfan/PAPERS/JAM99.pdf
There are approximately 4,900,000 connection records in KDD training dataset, each of which contains 41 features and is labelled as either normal or an attack of 24 different types. KDD test dataset contains 14 unique attack types that are not present in the training set to allow the evaluation of detecting novel attacks.

All of these attack types fall in one of the four main categories:

\begin{enumerate}[label=\bfseries{\arabic*})]    
    \item \textbf{Denial-of-service (DoS):} an attack to temporarily or indefinitely disable services of a host to its intended users by manipulating computing and memory resources.
    
    \item \textbf{Remote-to-local (R2L):} a situation where an attacker is able to send packets to a target machine over a network in order to gain access as a local user of the machine.
    
    \item \textbf{User-to-root (U2R):} an attempt by the attacker with precedent access to a target machine as a normal user to further gain control of root privileges.
    
    \item \textbf{Probing:} a type of surveillance attack to monitor a target network of a machine in order to gain information on possible vulnerabilities of the network. As a result, the probing attacks are usually followed up by a chain of attacks that exploit any identified network vulnerability.
\end{enumerate}

Each connection record in KDD'99 is a sequence of TCP packets for a data flow between a source IP address to a target IP address. There are 41 features in the dataset that can be categorized into three groups:

\begin{enumerate}[label=\bfseries{\arabic*})]
    \item \textbf{Basic features:} 9 of the 41 features are basic features of individual TCP connections, such as the types of the protocol and network service.
    
    \item \textbf{Content features:} 13 of the 41 features are content features suggested by domain knowledge, such as the numbers of shell prompts, file creation operations and "root" accesses. The DoS and probing attacks occur in bursts, i.e., these attacks involve many connections in an extremely short time period, to result in frequent sequential patterns for intrusions. On the other hand, the R2L and U2R attacks usually involve a single connection and are more difficult to detect using just the basic features. Hence the main purpose of the content features is to provide additional information that can be used to improve detection.
    
    \item \textbf{Traffic features:} 18 of the 41 features are traffic features computed using a two-second time window that can be further divided into two groups:
    
    \begin{enumerate}
        \item \textbf{"same host" features:} statistics derived from the connections in the past two seconds that have the same destination host as the current connection
        
        \item \textbf{"same service" features:} similar statistics from the connections in the past two seconds that have the same service as the current connection
    \end{enumerate}
\end{enumerate}


%-----------------------------------------------------
%-----------------------------------------------------

\subsection{Performance Measures}
The proposed detection scheme is evaluated under the following framework:

\begin{enumerate}
    \item A 10\% subset of KDD'99 is used for the experiment (for now).
    
    \item Each experiment is conducted using a random sample of 3,500 normal connections and 1,500 attacks, all sampled without replacement. The numbers are chosen such that the LOF algorithm runs comfortably without reaching beyond the memory limit of the machine used for this experiment.
    
    \item The parameter $k$ for the LOF algorithm is set to be 30\% of the test sample size.
    
    \item The experiment is repeated on 100 different samples (for now) to account for the relatively small sample size.
\end{enumerate}

In order to assess the performance, the mean and standard deviation of the detection and false positive rates are computed.


%-----------------------------------------------------
%-----------------------------------------------------

\subsection{Experimental Results}

<<load_results, echo=FALSE>>=
load(file = "../evaluation.results.RData")
@


\subsubsection{Phase 1}

\begin{itemize}
\item Detection rate from LOF
\item False alarm rate from LOF
\item Computation time
\end{itemize}

\subsubsection{Phase 2}

\begin{itemize}
\item Average purity of clusters and s.d.
\item Rate of correctly identifying "normal" clusters
\item Six different distance metrics
\item Computation time
\end{itemize}

\subsubsection{Overall}

<<echo=FALSE, results=tex>>=
library(xtable)
xtable(k30.euc$table,  caption = "Euclidean")
xtable(k30.weuc$table, caption = "Weighted Euclidean")
xtable(k30.man$table,  caption = "Manhattan")
xtable(k30.che$table,  caption = "Chebyshev")
xtable(k30.min$table,  caption = "Minkoski")
xtable(k30.mah$table,  caption = "Mahalanobis")
@

\end{document}
